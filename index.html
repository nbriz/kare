<body></body>
<script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js"></script>
<script>
  /* global nn */
  
  nn.get('body').css('overflow', 'hidden')
  
  const icons = [
    'bin', 'bomb', 'file-graphic', 'file-vector',
    'folder', 'mac-happy', 'news', 'save'
  ]
  
  let hue = 0
  const dur = 10
  
  function draw () {
    const size = 8
    // const icon = nn.random(icons)
    const icon = 'file-vector'
    const path = `icons/${icon}.svg`
    // const x = nn.random(nn.width) - size
    // const y = nn.random(nn.height) - size
    const x = nn.width / 2 - size / 2
    const y = nn.height / 2 - size / 2
    // const hue = nn.random(360)
    hue+=20
    const img = nn.create('img')
      .set('src', path)
      .css('width', size)
      .css('pointer-events', 'none')
      .css('user-select', 'none')
      .css('opacity', 0.5)
      .css('transition', `all ${dur}s linear`)
      .hueRotate(hue)
      .positionOrigin('center')
      .position(x, y)
      .addTo('body')
    return img
  }
  
  async function growIcon (img) {
    await nn.sleep(100)
    img.scale(100)
    // img.blur(2)
    // img.css('opacity', 0)
    await nn.sleep(dur * 1000)
    img.css('opacity', 0)
    await nn.sleep(dur * 1000)
    img.remove()
  }


  function animate () {
    setTimeout(animate, 1000)
    const img = draw()
    growIcon(img)
  }

  // nn.on('click', draw)
  nn.on('load', animate)
</script>